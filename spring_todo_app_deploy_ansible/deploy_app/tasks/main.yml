---
- name: Download WAR to server
  command: wget http://example.com/file.war -O {{ warRemotePath }}/{{ warName }}
  
- name: Unzip WAR file
  unarchive: src={{ warRemotePath }}/{{ warName }} dest={{ tomcat_installation_directory}}/webapps/ROOT/ copy=no mode=0755 owner=tomcat7 group=tomcat7
  notify:
        - restart tomcat
   
- name: Delete remote war file
  file: path={{ warRemotePath }}/{{ warName }} state=absent

  handlers:
    - name: Restart tomcat
      service: name=tomcat state=restarted